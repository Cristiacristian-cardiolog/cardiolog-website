<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dr. Dan-Cristian Briscan - ConsultaÈ›ii Cardiologie</title>
  <style>
    body { font-family: Arial, sans-serif; margin:0; padding:0; }
    header { background:#b30000; color:white; padding:15px; text-align:center; }
    header h1 { margin:5px 0; }
    header p { margin:5px 0; font-size:18px; }
    .cta-buttons { margin-top:10px; }
    .cta-buttons a {
      background:white; color:#b30000; padding:10px 20px; margin:5px;
      border-radius:8px; text-decoration:none; font-weight:bold; display:inline-block;
    }
    section { padding:20px; max-width:800px; margin:auto; }
    form { background:#f5f5f5; padding:20px; border-radius:8px; }
    form input, form select, form button {
      width:100%; padding:10px; margin:10px 0; border:1px solid #ccc; border-radius:5px;
    }
    form button { background:#b30000; color:white; font-weight:bold; cursor:pointer; }
    form button:hover { background:#800000; }
    footer { text-align:center; padding:15px; background:#eee; margin-top:30px; }
  </style>
</head>
<body>

<header>
  <h1>Dr. Dan-Cristian Briscan</h1>
  <p>Cardiolog â€¢ MedicinÄƒ InternÄƒ â€¢ ConsultaÈ›ii Online</p>
  <p>ðŸ“ž +49 1516 3269702 | ðŸ’Œ contact@cardio-consult.de</p>
  <div class="cta-buttons">
    <a href="https://wa.me/4915163269702" target="_blank">ðŸ“ž SunÄƒ acum</a>
    <a href="#appointmentForm">ðŸ“… RezervÄƒ acum</a>
  </div>
</header>

<section>
  <h2>ProgrameazÄƒ o ConsultaÈ›ie Online</h2>
  <form id="appointmentForm">
    <label for="name">Nume complet</label>
    <input type="text" id="name" name="name" required>

    <label for="email">AdresÄƒ Email</label>
    <input type="email" id="email" name="email" required>

    <label for="phone">Telefon</label>
    <input type="tel" id="phone" name="phone" required>

    <label for="appointment">Alege data È™i ora disponibile</label>
    <select id="appointment" name="appointment" required>
      <option value="">Se Ã®ncarcÄƒ orele disponibile...</option>
    </select>

    <button type="submit">Trimite Programarea</button>
  </form>
</section>

<footer>
  <p>Â© 2025 Dr. Dan-Cristian Briscan - ConsultaÈ›ii Cardiologie Online</p>
</footer>

<script>
  // Link-ul CSV publicat din Google Sheets
  const sheetUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQcIVVUPTimKk9UnwLfwfpLTC7aO04sjzO8mVARk_hw_GqQBt9sAzEbpCigw0oV4kEmrrVQJ8lBdhdK/pub?output=csv";

  async function loadAppointments() {
    try {
      const response = await fetch(sheetUrl);
      const csvText = await response.text();
      const rows = csvText.split("\n").map(r => r.split(","));
      
      const select = document.getElementById("appointment");
      select.innerHTML = "";

      rows.slice(1).forEach(row => {
        const date = row[0]?.trim();
        const time = row[1]?.trim();
        const name = row[2]?.trim();
        
        if (date && time && !name) { 
          const option = document.createElement("option");
          option.value = `${date} ${time}`;
          option.textContent = `${date} - ${time}`;
          select.appendChild(option);
        }
      });

      if (select.options.length === 0) {
        const option = document.createElement("option");
        option.textContent = "Nicio orÄƒ disponibilÄƒ momentan";
        option.disabled = true;
        select.appendChild(option);
      }
    } catch (err) {
      console.error("Eroare la Ã®ncÄƒrcarea datelor:", err);
    }
  }

  document.getElementById("appointmentForm").addEventListener("submit", function(e) {
    e.preventDefault();
    alert("Programarea ta a fost trimisÄƒ! Vei fi contactat pentru confirmare.");
    this.reset();
  });

  loadAppointments();
</script>

</body>
</html>
